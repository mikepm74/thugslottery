{"code":"(this[\"webpackJsonp50-50\"]=this[\"webpackJsonp50-50\"]||[]).push([[0],{64:function(e,t,n){},65:function(e,t,n){},78:function(e,t,n){\"use strict\";n.r(t);var c=n(4),r=n(2),s=n(24),a=n.n(s),i=(n(64),n(65),n(57)),j=n(26),l=n(92);function b(e){var t=e.ticketsNormalized,n=Object(r.useState)([]),s=Object(j.a)(n,2),a=s[0],b=s[1],o=Object(r.useState)(\"GOOD LUCK G!!!\"),d=Object(j.a)(o,2),h=d[0],O=d[1],u=Object(r.useState)(0),x=Object(j.a)(u,2),g=x[0],f=x[1],p=Object(r.useState)([]),m=Object(j.a)(p,2),k=m[0],y=m[1],v=Object(r.useState)(!1),C=Object(j.a)(v,2),S=C[0],w=C[1];Object(r.useEffect)((function(){var e=[];Object.keys(t).map((function(n){for(var c=t[n],r=1;r<=c;r++)e.push(n)})),e.sort((function(){return Math.random()-.5})),y(e),f(e.length)}),[t]);return Object(c.jsxs)(\"center\",{children:[Object(c.jsx)(\"br\",{}),\" \",Object(c.jsx)(\"br\",{}),Object(c.jsx)(\"table\",{width:\"420px\",style:{backgroundColor:\"rgba(255,255,255,0.7)\",border:\"1px solid black\"},children:Object(c.jsx)(\"tbody\",{children:Object(c.jsx)(\"tr\",{children:Object(c.jsx)(\"td\",{align:\"center\",children:Object(c.jsx)(\"h1\",{children:h})})})})}),Object(c.jsx)(\"br\",{}),Object(c.jsx)(l.a,{variant:\"contained\",color:\"primary\",onClick:function(){f(k.length);var e=Math.floor(Math.random()*Math.floor(g));console.log(e);var t=k[e];O(t),b([].concat(Object(i.a)(a),[t])),k.splice(e,1)},children:a.length>0?\"DRAW WINNER\":\"START \"}),Object(c.jsx)(\"br\",{}),Object(c.jsxs)(\"div\",{children:[Object(c.jsx)(\"br\",{}),Object(c.jsxs)(\"table\",{width:\"480x\",style:{backgroundColor:\"rgba(255,255,255,0.7)\",border:\"1px solid black\"},children:[Object(c.jsx)(\"thead\",{children:Object(c.jsx)(\"tr\",{children:Object(c.jsx)(\"td\",{align:\"center\",children:\"WINNERS\"})})}),Object(c.jsx)(\"tbody\",{children:Object.values(a).map((function(e,t){return Object(c.jsx)(\"tr\",{children:Object(c.jsxs)(\"td\",{align:\"center\",children:[t+1,\" \",e]})},e+t)}))})]}),Object(c.jsx)(\"br\",{}),Object(c.jsx)(l.a,{variant:\"contained\",color:\"primary\",onClick:function(){w(!S)},children:\"SHOW ENTRIES\"}),S?Object(c.jsxs)(\"table\",{width:\"480x\",style:{backgroundColor:\"rgba(255,255,255,0.7)\",border:\"1px solid black\"},children:[Object(c.jsx)(\"thead\",{children:Object(c.jsxs)(\"tr\",{align:\"left\",children:[Object(c.jsx)(\"td\",{align:\"left\",children:\"Address\"}),Object(c.jsx)(\"td\",{align:\"right\",children:\"Tickets\"})]})}),Object(c.jsx)(\"tbody\",{children:Object.keys(t).map((function(e,n){return Object(c.jsxs)(\"tr\",{align:\"right\",children:[Object(c.jsx)(\"td\",{align:\"center\",children:e}),Object(c.jsx)(\"td\",{children:t[e]})]},e+n)}))})]}):null]})]})}var o=n(20);var d=function(){var e={},t=Object(o.useQuery)(Object(o.gql)('{\\n  ethereum(network: bsc) {\\n    transfers(options: {offset: 0}, amount: {gt: 0}, receiver: {is: \"0x93E8A4cd2c98B0667BF2AD9C46f7660F390dF348\"}, currency: {is: \"0x339550404ca4d831d12b1b2e4768869997390010\"}) {\\n      block {\\n        height\\n      }\\n      address: sender {\\n        address\\n        annotation\\n      }\\n      currency {\\n        address\\n        symbol\\n      }\\n      amount\\n      transaction {\\n        hash\\n      }\\n      external\\n    }\\n  }\\n}\\n')),n=t.loading,r=t.error,s=t.data;return n?\"Loading tx list...\":r?\"Error! \".concat(r.message):(s.ethereum.transfers.map((function(t){return e[t.address.address]=Math.floor(t.amount)})),Object(c.jsx)(\"div\",{className:\"App\",children:n?null:Object(c.jsx)(b,{ticketsNormalized:e})}))},h=Object(o.createHttpLink)({uri:\"https://graphql.bitquery.io\"}),O=new o.ApolloClient({link:h,cache:new o.InMemoryCache});a.a.render(Object(c.jsx)(o.ApolloProvider,{client:O,children:Object(c.jsx)(d,{})}),document.getElementById(\"root\"))}},[[78,1,2]]]);","name":"static/js/main.c7321582.chunk.js","map":{"version":3,"sources":["static/js/main.c7321582.chunk.js"],"names":["this","push","64","module","exports","__webpack_require__","65","78","__webpack_exports__","r","jsx_runtime","react","react_dom","react_dom_default","n","toConsumableArray","slicedToArray","Button","RaffleForm","_ref","ticketsNormalized","_useState","Object","_useState2","winningAddresses","setWinningAddresses","_useState3","_useState4","winner","setWinner","_useState5","_useState6","totalTickets","setTotalTickets","_useState7","_useState8","ticketsArray","setTicketsArray","_useState9","_useState10","entries","setEntries","list","keys","map","address","amount","i","sort","Math","random","length","children","width","style","backgroundColor","border","align","variant","color","onClick","rand","floor","console","log","winningAddress","concat","splice","values","client","src_App","_useQuery","loading","error","data","message","ethereum","transfers","tx","className","httpLink","uri","src_client","link","cache","a","render","document","getElementById"],"mappings":"CAACA,KAAK,qBAAuBA,KAAK,sBAAwB,IAAIC,KAAK,CAAC,CAAC,GAAG,CAElEC,GACA,SAAUC,EAAQC,EAASC,KAM3BC,GACA,SAAUH,EAAQC,EAASC,KAM3BE,GACA,SAAUJ,EAAQK,EAAqBH,GAE7C,aAEAA,EAAoBI,EAAED,GAGtB,IAAIE,EAAcL,EAAoB,GAGlCM,EAAQN,EAAoB,GAG5BO,EAAYP,EAAoB,IAChCQ,EAAiCR,EAAoBS,EAAEF,GASvDG,GANMV,EAAoB,IAGpBA,EAAoB,IAGNA,EAAoB,KAGxCW,EAAgBX,EAAoB,IAGpCY,EAASZ,EAAoB,IAGjC,SAASa,EAAWC,GAAM,IAAIC,EAAkBD,EAAKC,kBAAsBC,EAAUC,OAAOX,EAAgB,SAAvBW,CAA0B,IAAIC,EAAWD,OAAON,EAA+B,EAAtCM,CAAyCD,EAAU,GAAGG,EAAiBD,EAAW,GAAGE,EAAoBF,EAAW,GAAOG,EAAWJ,OAAOX,EAAgB,SAAvBW,CAA0B,kBAAkBK,EAAWL,OAAON,EAA+B,EAAtCM,CAAyCI,EAAW,GAAGE,EAAOD,EAAW,GAAGE,EAAUF,EAAW,GAAOG,EAAWR,OAAOX,EAAgB,SAAvBW,CAA0B,GAAGS,EAAWT,OAAON,EAA+B,EAAtCM,CAAyCQ,EAAW,GAAGE,EAAaD,EAAW,GAAGE,EAAgBF,EAAW,GAAOG,EAAWZ,OAAOX,EAAgB,SAAvBW,CAA0B,IAAIa,EAAWb,OAAON,EAA+B,EAAtCM,CAAyCY,EAAW,GAAGE,EAAaD,EAAW,GAAGE,EAAgBF,EAAW,GAAOG,EAAWhB,OAAOX,EAAgB,SAAvBW,EAA0B,GAAOiB,EAAYjB,OAAON,EAA+B,EAAtCM,CAAyCgB,EAAW,GAAGE,EAAQD,EAAY,GAAGE,EAAWF,EAAY,GAE/4BjB,OAAOX,EAAiB,UAAxBW,EAA2B,WAAW,IAAIoB,EAAK,GAAkCpB,OAAOqB,KAAKvB,GAAmBwB,KAAI,SAASC,GAA+C,IAAtC,IAAIC,EAAO1B,EAAkByB,GAAiBE,EAAE,EAAEA,GAAGD,EAAOC,IAAKL,EAAKzC,KAAK4C,MAAiCH,EADpNM,MAAK,WAAW,OAAOC,KAAKC,SAAS,MACqLb,EAAgBK,GAAMT,EAAgBS,EAAKS,UAAU,CAAC/B,IAC9B,OAAmBE,OAAOZ,EAAkB,KAAzBY,CAA4B,SAAS,CAAC8B,SAAS,CAAc9B,OAAOZ,EAAiB,IAAxBY,CAA2B,KAAK,IAAI,IAAiBA,OAAOZ,EAAiB,IAAxBY,CAA2B,KAAK,IAAiBA,OAAOZ,EAAiB,IAAxBY,CAA2B,QAAQ,CAAC+B,MAAM,QAAQC,MAAM,CAACC,gBAAgB,wBAAwBC,OAAO,mBAAmBJ,SAAsB9B,OAAOZ,EAAiB,IAAxBY,CAA2B,QAAQ,CAAC8B,SAAsB9B,OAAOZ,EAAiB,IAAxBY,CAA2B,KAAK,CAAC8B,SAAsB9B,OAAOZ,EAAiB,IAAxBY,CAA2B,KAAK,CAACmC,MAAM,SAASL,SAAsB9B,OAAOZ,EAAiB,IAAxBY,CAA2B,KAAK,CAAC8B,SAASxB,YAA8BN,OAAOZ,EAAiB,IAAxBY,CAA2B,KAAK,IAAiBA,OAAOZ,EAAiB,IAAxBY,CAA2BL,EAAwB,EAAE,CAACyC,QAAQ,YAAYC,MAAM,UAAUC,QAD9oB,WAAwB3B,EAAgBG,EAAae,QAAQ,IAAIU,EAAKZ,KAAKa,MAAMb,KAAKC,SAASD,KAAKa,MAAM9B,IAAe+B,QAAQC,IAAIH,GACxd,IAAII,EAAe7B,EAAayB,GAAMhC,EAAUoC,GAAgBxC,EAAoB,GAAGyC,OAAO5C,OAAOP,EAAmC,EAA1CO,CAA6CE,GAAkB,CAACyC,KAAkB7B,EAAa+B,OAAON,EAAK,IAA6yBT,SAAS5B,EAAiB2B,OAAO,EAAE,cAAc,WAAwB7B,OAAOZ,EAAiB,IAAxBY,CAA2B,KAAK,IAAiBA,OAAOZ,EAAkB,KAAzBY,CAA4B,MAAM,CAAC8B,SAAS,CAAc9B,OAAOZ,EAAiB,IAAxBY,CAA2B,KAAK,IAAiBA,OAAOZ,EAAkB,KAAzBY,CAA4B,QAAQ,CAAC+B,MAAM,OAAOC,MAAM,CAACC,gBAAgB,wBAAwBC,OAAO,mBAAmBJ,SAAS,CAAc9B,OAAOZ,EAAiB,IAAxBY,CAA2B,QAAQ,CAAC8B,SAAsB9B,OAAOZ,EAAiB,IAAxBY,CAA2B,KAAK,CAAC8B,SAAsB9B,OAAOZ,EAAiB,IAAxBY,CAA2B,KAAK,CAACmC,MAAM,SAASL,SAAS,gBAA6B9B,OAAOZ,EAAiB,IAAxBY,CAA2B,QAAQ,CAAC8B,SAAS9B,OAAO8C,OAAO5C,GAAkBoB,KAAI,SAASC,EAAQE,GAAG,OAAmBzB,OAAOZ,EAAiB,IAAxBY,CAA2B,KAAK,CAAC8B,SAAsB9B,OAAOZ,EAAkB,KAAzBY,CAA4B,KAAK,CAACmC,MAAM,SAASL,SAAS,CAACL,EAAE,EAAE,IAAIF,MAAYA,EAAQE,WAAwBzB,OAAOZ,EAAiB,IAAxBY,CAA2B,KAAK,IAAiBA,OAAOZ,EAAiB,IAAxBY,CAA2BL,EAAwB,EAAE,CAACyC,QAAQ,YAAYC,MAAM,UAAUC,QAA7vD,WAAyBnB,GAAYD,IAA8uDY,SAAS,iBAAiBZ,EAAqBlB,OAAOZ,EAAkB,KAAzBY,CAA4B,QAAQ,CAAC+B,MAAM,OAAOC,MAAM,CAACC,gBAAgB,wBAAwBC,OAAO,mBAAmBJ,SAAS,CAAc9B,OAAOZ,EAAiB,IAAxBY,CAA2B,QAAQ,CAAC8B,SAAsB9B,OAAOZ,EAAkB,KAAzBY,CAA4B,KAAK,CAACmC,MAAM,OAAOL,SAAS,CAAc9B,OAAOZ,EAAiB,IAAxBY,CAA2B,KAAK,CAACmC,MAAM,OAAOL,SAAS,YAAyB9B,OAAOZ,EAAiB,IAAxBY,CAA2B,KAAK,CAACmC,MAAM,QAAQL,SAAS,iBAA8B9B,OAAOZ,EAAiB,IAAxBY,CAA2B,QAAQ,CAAC8B,SAAS9B,OAAOqB,KAAKvB,GAAmBwB,KAAI,SAASC,EAAQE,GAAG,OAAmBzB,OAAOZ,EAAkB,KAAzBY,CAA4B,KAAK,CAACmC,MAAM,QAAQL,SAAS,CAAc9B,OAAOZ,EAAiB,IAAxBY,CAA2B,KAAK,CAACmC,MAAM,SAASL,SAASP,IAAuBvB,OAAOZ,EAAiB,IAAxBY,CAA2B,KAAK,CAAC8B,SAAShC,EAAkByB,OAAaA,EAAQE,WAAW,WAEp0F,IAAIsB,EAAShE,EAAoB,IAMoS,IAAIiE,EADzU,WAAmB,IAAwLlD,EAAkB,GAAOmD,EAAUjD,OAAO+C,EAAiB,SAAxB/C,CAF4oBA,OAAO+C,EAAY,IAAnB/C,CAAre,4dAEvFkD,EAAQD,EAAUC,QAAQC,EAAMF,EAAUE,MAAMC,EAAKH,EAAUG,KAAK,OAAGF,EAAc,qBAAwBC,EAAY,UAAUP,OAAOO,EAAME,UAC9cD,EAAKE,SAASC,UAAUjC,KAAI,SAASkC,GAAI,OAAO1D,EAAkB0D,EAAGjC,QAAQA,SAASI,KAAKa,MAAMgB,EAAGhC,WAA8BxB,OAAOZ,EAAiB,IAAxBY,CAA2B,MAAM,CAACyD,UAAU,MAAM3B,SAAUoB,EAAkG,KAA7ElD,OAAOZ,EAAiB,IAAxBY,CAA2BJ,EAAW,CAACE,kBAAkBA,QAIxQ4D,EAAS1D,OAAO+C,EAAuB,eAA9B/C,CAAiC,CAAC2D,IAAI,gCAC/CC,EAAW,IAAIb,EAAqB,aAAE,CAACc,KAAKH,EAASI,MAAM,IAAIf,EAAsB,gBACzFxD,EAAkBwE,EAAEC,OAAoBhE,OAAOZ,EAAiB,IAAxBY,CAA2B+C,EAAuB,eAAE,CAACA,OAAOa,EAAW9B,SAAsB9B,OAAOZ,EAAiB,IAAxBY,CAA2BgD,EAAQ,MAAMiB,SAASC,eAAe,WAIpM,CAAC,CAAC,GAAG,EAAE"},"input":"(this[\"webpackJsonp50-50\"] = this[\"webpackJsonp50-50\"] || []).push([[0],{\n\n/***/ 64:\n/***/ (function(module, exports, __webpack_require__) {\n\n// extracted by mini-css-extract-plugin\n\n/***/ }),\n\n/***/ 65:\n/***/ (function(module, exports, __webpack_require__) {\n\n// extracted by mini-css-extract-plugin\n\n/***/ }),\n\n/***/ 78:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n// ESM COMPAT FLAG\n__webpack_require__.r(__webpack_exports__);\n\n// EXTERNAL MODULE: ./node_modules/react/jsx-runtime.js\nvar jsx_runtime = __webpack_require__(4);\n\n// EXTERNAL MODULE: ./node_modules/react/index.js\nvar react = __webpack_require__(2);\n\n// EXTERNAL MODULE: ./node_modules/react-dom/index.js\nvar react_dom = __webpack_require__(24);\nvar react_dom_default = /*#__PURE__*/__webpack_require__.n(react_dom);\n\n// EXTERNAL MODULE: ./src/index.css\nvar src = __webpack_require__(64);\n\n// EXTERNAL MODULE: ./src/App.css\nvar App = __webpack_require__(65);\n\n// EXTERNAL MODULE: ./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js + 3 modules\nvar toConsumableArray = __webpack_require__(57);\n\n// EXTERNAL MODULE: ./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray.js + 3 modules\nvar slicedToArray = __webpack_require__(26);\n\n// EXTERNAL MODULE: ./node_modules/@material-ui/core/esm/Button/Button.js + 83 modules\nvar Button = __webpack_require__(92);\n\n// CONCATENATED MODULE: ./src/components/RaffleForm.jsx\nfunction RaffleForm(_ref){var ticketsNormalized=_ref.ticketsNormalized;var _useState=Object(react[\"useState\"])([]),_useState2=Object(slicedToArray[\"a\" /* default */])(_useState,2),winningAddresses=_useState2[0],setWinningAddresses=_useState2[1];var _useState3=Object(react[\"useState\"])(\"GOOD LUCK G!!!\"),_useState4=Object(slicedToArray[\"a\" /* default */])(_useState3,2),winner=_useState4[0],setWinner=_useState4[1];var _useState5=Object(react[\"useState\"])(0),_useState6=Object(slicedToArray[\"a\" /* default */])(_useState5,2),totalTickets=_useState6[0],setTotalTickets=_useState6[1];var _useState7=Object(react[\"useState\"])([]),_useState8=Object(slicedToArray[\"a\" /* default */])(_useState7,2),ticketsArray=_useState8[0],setTicketsArray=_useState8[1];var _useState9=Object(react[\"useState\"])(false),_useState10=Object(slicedToArray[\"a\" /* default */])(_useState9,2),entries=_useState10[0],setEntries=_useState10[1];// a little more random\nfunction shuffle(array){array.sort(function(){return Math.random()-0.5;});}// load tickets\nObject(react[\"useEffect\"])(function(){var list=[];var setList=function setList(){Object.keys(ticketsNormalized).map(function(address){var amount=ticketsNormalized[address];for(var i=1;i<=amount;i++){list.push(address);}});};setList();shuffle(list);setTicketsArray(list);setTotalTickets(list.length);},[ticketsNormalized]);var handleSubmit=function handleSubmit(){setTotalTickets(ticketsArray.length);var rand=Math.floor(Math.random()*Math.floor(totalTickets));console.log(rand);// set winner and substract 1 ticket\nvar winningAddress=ticketsArray[rand];setWinner(winningAddress);setWinningAddresses([].concat(Object(toConsumableArray[\"a\" /* default */])(winningAddresses),[winningAddress]));ticketsArray.splice(rand,1);};var handleEntries=function handleEntries(){setEntries(!entries);};return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"center\",{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"br\",{}),\" \",/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"br\",{}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"table\",{width:\"420px\",style:{backgroundColor:\"rgba(255,255,255,0.7)\",border:\"1px solid black\"},children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"tbody\",{children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"tr\",{children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"td\",{align:\"center\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"h1\",{children:winner})})})})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"br\",{}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Button[\"a\" /* default */],{variant:\"contained\",color:\"primary\",onClick:handleSubmit,children:winningAddresses.length>0?\"DRAW WINNER\":\"START \"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"br\",{}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"br\",{}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"table\",{width:\"480x\",style:{backgroundColor:\"rgba(255,255,255,0.7)\",border:\"1px solid black\"},children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"thead\",{children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"tr\",{children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"td\",{align:\"center\",children:\"WINNERS\"})})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"tbody\",{children:Object.values(winningAddresses).map(function(address,i){return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"tr\",{children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"td\",{align:\"center\",children:[i+1,\" \",address]})},address+i);})})]}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"br\",{}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Button[\"a\" /* default */],{variant:\"contained\",color:\"primary\",onClick:handleEntries,children:\"SHOW ENTRIES\"}),entries?/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"table\",{width:\"480x\",style:{backgroundColor:\"rgba(255,255,255,0.7)\",border:\"1px solid black\"},children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"thead\",{children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"tr\",{align:\"left\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"td\",{align:\"left\",children:\"Address\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"td\",{align:\"right\",children:\"Tickets\"})]})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"tbody\",{children:Object.keys(ticketsNormalized).map(function(address,i){return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"tr\",{align:\"right\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"td\",{align:\"center\",children:address}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"td\",{children:ticketsNormalized[address]})]},address+i);})})]}):null]})]});}\n// EXTERNAL MODULE: ./node_modules/@apollo/client/index.js\nvar client = __webpack_require__(20);\n\n// CONCATENATED MODULE: ./src/utils/links.js\nvar addressTokenTranfers=function addressTokenTranfers(address){return\"https://api.bscscan.com/api?module=account&action=tokentx&address=\"+address+\"&startblock=0&endblock=999999999&sort=asc\";};var contestAddress=\"0x93E8A4cd2c98B0667BF2AD9C46f7660F390dF348\";var drugsContract=\"0x339550404ca4d831d12b1b2e4768869997390010\";var links_BITQUERY_INFLOW=function BITQUERY_INFLOW(address,tokenContract){var string=\"{\\n  ethereum(network: bsc) {\\n    transfers(options: {offset: 0}, amount: {gt: 0}, receiver: {is: \\\"0x93E8A4cd2c98B0667BF2AD9C46f7660F390dF348\\\"}, currency: {is: \\\"0x339550404ca4d831d12b1b2e4768869997390010\\\"}) {\\n      block {\\n        height\\n      }\\n      address: sender {\\n        address\\n        annotation\\n      }\\n      currency {\\n        address\\n        symbol\\n      }\\n      amount\\n      transaction {\\n        hash\\n      }\\n      external\\n    }\\n  }\\n}\\n\";return Object(client[\"gql\"])(string);};\n// CONCATENATED MODULE: ./src/App.js\nfunction App_App(){var divStyle={backgroundImage:\"url(https://miro.medium.com/max/1225/1*TCs1_KP3xoZIC2P0c_Owlw.png)\",backgroundSize:\"cover\",width:\"100vw\",height:\"100vh\",backgroundRepeat:\"repeat-y\"};var ticketsNormalized={};var _useQuery=Object(client[\"useQuery\"])(links_BITQUERY_INFLOW(contestAddress,drugsContract)),loading=_useQuery.loading,error=_useQuery.error,data=_useQuery.data;if(loading)return\"Loading tx list...\";if(error)return\"Error! \".concat(error.message);// format winner entries for beefy pickWinner\ndata.ethereum.transfers.map(function(tx){return ticketsNormalized[tx.address.address]=Math.floor(tx.amount);});return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"App\",children:!loading?/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(RaffleForm,{ticketsNormalized:ticketsNormalized}):null});}/* harmony default export */ var src_App = (App_App);\n// CONCATENATED MODULE: ./src/index.js\n// 1\n// 2\nvar httpLink=Object(client[\"createHttpLink\"])({uri:\"https://graphql.bitquery.io\"});// 3\nvar src_client=new client[\"ApolloClient\"]({link:httpLink,cache:new client[\"InMemoryCache\"]()});// 4\nreact_dom_default.a.render(/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(client[\"ApolloProvider\"],{client:src_client,children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(src_App,{})}),document.getElementById(\"root\"));\n\n/***/ })\n\n},[[78,1,2]]]);","inputSourceMap":{"version":3,"sources":["/home/ok/Nextcloud/code/THUGS/50-50-app/50-50/node_modules/mini-css-extract-plugin/dist/loader.js??ref--5-oneOf-4-0!/home/ok/Nextcloud/code/THUGS/50-50-app/50-50/node_modules/css-loader/dist/cjs.js??ref--5-oneOf-4-1!/home/ok/Nextcloud/code/THUGS/50-50-app/50-50/node_modules/postcss-loader/src/index.js??postcss!/home/ok/Nextcloud/code/THUGS/50-50-app/50-50/src/index.css","/home/ok/Nextcloud/code/THUGS/50-50-app/50-50/node_modules/mini-css-extract-plugin/dist/loader.js??ref--5-oneOf-4-0!/home/ok/Nextcloud/code/THUGS/50-50-app/50-50/node_modules/css-loader/dist/cjs.js??ref--5-oneOf-4-1!/home/ok/Nextcloud/code/THUGS/50-50-app/50-50/node_modules/postcss-loader/src/index.js??postcss!/home/ok/Nextcloud/code/THUGS/50-50-app/50-50/src/App.css","/home/ok/Nextcloud/code/THUGS/50-50-app/50-50/src/components/RaffleForm.jsx","/home/ok/Nextcloud/code/THUGS/50-50-app/50-50/src/utils/links.js","/home/ok/Nextcloud/code/THUGS/50-50-app/50-50/src/App.js","/home/ok/Nextcloud/code/THUGS/50-50-app/50-50/src/index.js"],"names":["RaffleForm","ticketsNormalized","useState","winningAddresses","setWinningAddresses","winner","setWinner","totalTickets","setTotalTickets","ticketsArray","setTicketsArray","entries","setEntries","shuffle","array","sort","Math","random","useEffect","list","setList","Object","keys","map","address","amount","i","push","length","handleSubmit","rand","floor","console","log","winningAddress","splice","handleEntries","backgroundColor","border","values","addressTokenTranfers","contestAddress","drugsContract","BITQUERY_INFLOW","tokenContract","string","gql","App","divStyle","backgroundImage","backgroundSize","width","height","backgroundRepeat","useQuery","loading","error","data","message","ethereum","transfers","tx","httpLink","createHttpLink","uri","client","ApolloClient","link","cache","InMemoryCache","ReactDOM","render","document","getElementById"],"mappings":"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","file":"x","sourcesContent":["// extracted by mini-css-extract-plugin","// extracted by mini-css-extract-plugin","import React, { useState, useEffect } from \"react\";\nimport Button from \"@material-ui/core/Button\";\n\nexport default function RaffleForm({ ticketsNormalized }) {\n  const [winningAddresses, setWinningAddresses] = useState([]);\n  const [winner, setWinner] = useState(\"GOOD LUCK G!!!\");\n  const [totalTickets, setTotalTickets] = useState(0);\n  const [ticketsArray, setTicketsArray] = useState([]);\n  const [entries, setEntries] = useState(false);\n\n  // a little more random\n  function shuffle(array) {\n    array.sort(() => Math.random() - 0.5);\n  }\n  // load tickets\n  useEffect(() => {\n    const list = [];\n    const setList = () => {\n      Object.keys(ticketsNormalized).map((address) => {\n        const amount = ticketsNormalized[address];\n        for (let i = 1; i <= amount; i++) {\n          list.push(address);\n        }\n      });\n    };\n    setList();\n    shuffle(list);\n    setTicketsArray(list);\n    setTotalTickets(list.length);\n  }, [ticketsNormalized]);\n\n  const handleSubmit = () => {\n    setTotalTickets(ticketsArray.length);\n    const rand = Math.floor(Math.random() * Math.floor(totalTickets));\n    console.log(rand);\n    // set winner and substract 1 ticket\n    const winningAddress = ticketsArray[rand];\n    setWinner(winningAddress);\n    setWinningAddresses([...winningAddresses, winningAddress]);\n    ticketsArray.splice(rand, 1);\n  };\n  const handleEntries = () => {\n    setEntries(!entries);\n  };\n\n  return (\n    <center>\n      <br /> <br />\n      <table\n        width=\"420px\"\n        style={{\n          backgroundColor: \"rgba(255,255,255,0.7)\",\n          border: \"1px solid black\",\n        }}\n      >\n        <tbody>\n          <tr>\n            <td align=\"center\">\n              <h1>{winner}</h1>\n            </td>\n          </tr>\n        </tbody>\n      </table>\n      <br />\n      <Button variant=\"contained\" color=\"primary\" onClick={handleSubmit}>\n        {winningAddresses.length > 0 ? \"DRAW WINNER\" : \"START \"}\n      </Button>\n      <br />\n      <div>\n        <br />\n        <table\n          width=\"480x\"\n          style={{\n            backgroundColor: \"rgba(255,255,255,0.7)\",\n            border: \"1px solid black\",\n          }}\n        >\n          <thead>\n            <tr>\n              <td align=\"center\">WINNERS</td>\n            </tr>\n          </thead>\n          <tbody>\n            {Object.values(winningAddresses).map((address, i) => {\n              return (\n                <tr key={address + i}>\n                  <td align=\"center\">\n                    {i + 1} {address}\n                  </td>\n                </tr>\n              );\n            })}\n          </tbody>\n        </table>\n        <br />\n        <Button variant=\"contained\" color=\"primary\" onClick={handleEntries}>\n          SHOW ENTRIES\n        </Button>\n        {entries ? (\n          <table\n            width=\"480x\"\n            style={{\n              backgroundColor: \"rgba(255,255,255,0.7)\",\n              border: \"1px solid black\",\n            }}\n          >\n            <thead>\n              <tr align=\"left\">\n                <td align=\"left\">Address</td>\n                <td align=\"right\">Tickets</td>\n              </tr>\n            </thead>\n            <tbody>\n              {Object.keys(ticketsNormalized).map((address, i) => {\n                return (\n                  <tr align=\"right\" key={address + i}>\n                    <td align=\"center\">{address}</td>\n                    <td>{ticketsNormalized[address]}</td>\n                  </tr>\n                );\n              })}\n            </tbody>\n          </table>\n        ) : null}\n      </div>\n    </center>\n  );\n}\n","import { gql } from \"@apollo/client\";\n\nexport const addressTokenTranfers = (address) =>\n  \"https://api.bscscan.com/api?module=account&action=tokentx&address=\" +\n  address +\n  \"&startblock=0&endblock=999999999&sort=asc\";\n\nexport const contestAddress = \"0x93E8A4cd2c98B0667BF2AD9C46f7660F390dF348\";\nexport const drugsContract = \"0x339550404ca4d831d12b1b2e4768869997390010\";\n\nexport const BITQUERY_INFLOW = (address, tokenContract) => {\n  let string = `{\n  ethereum(network: bsc) {\n    transfers(options: {offset: 0}, amount: {gt: 0}, receiver: {is: \"0x93E8A4cd2c98B0667BF2AD9C46f7660F390dF348\"}, currency: {is: \"0x339550404ca4d831d12b1b2e4768869997390010\"}) {\n      block {\n        height\n      }\n      address: sender {\n        address\n        annotation\n      }\n      currency {\n        address\n        symbol\n      }\n      amount\n      transaction {\n        hash\n      }\n      external\n    }\n  }\n}\n`;\n  return gql(string);\n};\n","import \"./App.css\";\nimport RaffleForm from \"./components/RaffleForm\";\nimport { useQuery } from \"@apollo/client\";\nimport { BITQUERY_INFLOW } from \"./utils/links\";\nimport { drugsContract, contestAddress } from \"./utils/links\";\n\nfunction App() {\n  const divStyle = {\n    backgroundImage: `url(https://miro.medium.com/max/1225/1*TCs1_KP3xoZIC2P0c_Owlw.png)`,\n    backgroundSize: \"cover\",\n    width: \"100vw\",\n    height: \"100vh\",\n    backgroundRepeat: \"repeat-y\",\n  };\n  const ticketsNormalized = {};\n  const { loading, error, data } = useQuery(\n    BITQUERY_INFLOW(contestAddress, drugsContract)\n  );\n\n  if (loading) return \"Loading tx list...\";\n  if (error) return `Error! ${error.message}`;\n\n  // format winner entries for beefy pickWinner\n  data.ethereum.transfers.map(\n    (tx) => (ticketsNormalized[tx.address.address] = Math.floor(tx.amount))\n  );\n\n  return (\n    <div className=\"App\">\n      {!loading ? (\n        <RaffleForm ticketsNormalized={ticketsNormalized}></RaffleForm>\n      ) : null}\n    </div>\n  );\n}\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\n// 1\nimport {\n  ApolloProvider,\n  ApolloClient,\n  createHttpLink,\n  InMemoryCache,\n} from \"@apollo/client\";\n\n// 2\nconst httpLink = createHttpLink({\n  uri: \"https://graphql.bitquery.io\",\n});\n\n// 3\nconst client = new ApolloClient({\n  link: httpLink,\n  cache: new InMemoryCache(),\n});\n\n// 4\nReactDOM.render(\n  <ApolloProvider client={client}>\n    <App />\n  </ApolloProvider>,\n  document.getElementById(\"root\")\n);\n"]}}