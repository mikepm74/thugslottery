{"ast":null,"code":"import{jsx as _jsx}from\"react/jsx-runtime\";import\"./App.css\";import RaffleForm from\"./components/RaffleForm\";import{useQuery}from\"@apollo/client\";import{BITQUERY_INFLOW}from\"./utils/links\";import{drugsContract,contestAddress}from\"./utils/links\";function App(){var divStyle={backgroundImage:\"url(https://miro.medium.com/max/1225/1*TCs1_KP3xoZIC2P0c_Owlw.png)\",backgroundSize:\"cover\",width:\"100vw\",height:\"100vh\"};var ticketsNormalized={};var _useQuery=useQuery(BITQUERY_INFLOW(contestAddress,drugsContract)),loading=_useQuery.loading,error=_useQuery.error,data=_useQuery.data;if(loading)return\"Loading tx list...\";if(error)return\"Error! \".concat(error.message);// format winner entries for beefy pickWinner\ndata.ethereum.transfers.map(function(tx){return ticketsNormalized[tx.address.address]=Math.floor(tx.amount);});return/*#__PURE__*/_jsx(\"div\",{className:\"App\",style:divStyle,children:!loading?/*#__PURE__*/_jsx(RaffleForm,{ticketsNormalized:ticketsNormalized}):null});}export default App;","map":{"version":3,"sources":["/home/ok/Nextcloud/code/THUGS/50-50-app/50-50/src/App.js"],"names":["RaffleForm","useQuery","BITQUERY_INFLOW","drugsContract","contestAddress","App","divStyle","backgroundImage","backgroundSize","width","height","ticketsNormalized","loading","error","data","message","ethereum","transfers","map","tx","address","Math","floor","amount"],"mappings":"2CAAA,MAAO,WAAP,CACA,MAAOA,CAAAA,UAAP,KAAuB,yBAAvB,CACA,OAASC,QAAT,KAAyB,gBAAzB,CACA,OAASC,eAAT,KAAgC,eAAhC,CACA,OAASC,aAAT,CAAwBC,cAAxB,KAA8C,eAA9C,CAEA,QAASC,CAAAA,GAAT,EAAe,CACb,GAAMC,CAAAA,QAAQ,CAAG,CACfC,eAAe,qEADA,CAEfC,cAAc,CAAE,OAFD,CAGfC,KAAK,CAAE,OAHQ,CAIfC,MAAM,CAAE,OAJO,CAAjB,CAMA,GAAMC,CAAAA,iBAAiB,CAAG,EAA1B,CAPa,cAQoBV,QAAQ,CACvCC,eAAe,CAACE,cAAD,CAAiBD,aAAjB,CADwB,CAR5B,CAQLS,OARK,WAQLA,OARK,CAQIC,KARJ,WAQIA,KARJ,CAQWC,IARX,WAQWA,IARX,CAYb,GAAIF,OAAJ,CAAa,MAAO,oBAAP,CACb,GAAIC,KAAJ,CAAW,uBAAiBA,KAAK,CAACE,OAAvB,EAEX;AACAD,IAAI,CAACE,QAAL,CAAcC,SAAd,CAAwBC,GAAxB,CACE,SAACC,EAAD,QAASR,CAAAA,iBAAiB,CAACQ,EAAE,CAACC,OAAH,CAAWA,OAAZ,CAAjB,CAAwCC,IAAI,CAACC,KAAL,CAAWH,EAAE,CAACI,MAAd,CAAjD,EADF,EAIA,mBACE,YAAK,SAAS,CAAC,KAAf,CAAqB,KAAK,CAAEjB,QAA5B,UACG,CAACM,OAAD,cACC,KAAC,UAAD,EAAY,iBAAiB,CAAED,iBAA/B,EADD,CAEG,IAHN,EADF,CAOD,CAED,cAAeN,CAAAA,GAAf","sourcesContent":["import \"./App.css\";\nimport RaffleForm from \"./components/RaffleForm\";\nimport { useQuery } from \"@apollo/client\";\nimport { BITQUERY_INFLOW } from \"./utils/links\";\nimport { drugsContract, contestAddress } from \"./utils/links\";\n\nfunction App() {\n  const divStyle = {\n    backgroundImage: `url(https://miro.medium.com/max/1225/1*TCs1_KP3xoZIC2P0c_Owlw.png)`,\n    backgroundSize: \"cover\",\n    width: \"100vw\",\n    height: \"100vh\",\n  };\n  const ticketsNormalized = {};\n  const { loading, error, data } = useQuery(\n    BITQUERY_INFLOW(contestAddress, drugsContract)\n  );\n\n  if (loading) return \"Loading tx list...\";\n  if (error) return `Error! ${error.message}`;\n\n  // format winner entries for beefy pickWinner\n  data.ethereum.transfers.map(\n    (tx) => (ticketsNormalized[tx.address.address] = Math.floor(tx.amount))\n  );\n\n  return (\n    <div className=\"App\" style={divStyle}>\n      {!loading ? (\n        <RaffleForm ticketsNormalized={ticketsNormalized}></RaffleForm>\n      ) : null}\n    </div>\n  );\n}\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}