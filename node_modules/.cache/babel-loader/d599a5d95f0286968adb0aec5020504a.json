{"ast":null,"code":"const crypto = require(\"crypto\");\n\nconst seedrandom = require(\"seedrandom\");\n\nconst rng = seedrandom(crypto.createHash(\"sha256\").update(blockHash).digest(\"hex\"));\nexport default function winners(ticketList) {}\n\nconst getTotalTickets = tickets => Object.values(tickets).reduce((a, b) => a + b);\n\nconst pickWinner = (tickets, rng) => {\n  const totalTickets = getTotalTickets(tickets);\n  const winningTicket = Math.floor(rng() * totalTickets);\n  let ticketsCounted = 0;\n\n  for (const key in tickets) {\n    ticketsCounted += tickets[key];\n    if (ticketsCounted >= winningTicket) return key;\n  }\n}; // Thugs Finance - (5 Prizes) + 1 NFT\n\n\nconsole.log(\"Selecting Thugs Finance Winners\");\n\nfor (let i = 1; i <= 5; i++) {\n  console.log(`Thugs winner ${i} ${pickWinner(drugsTickets, rng)}`);\n}\n\nconsole.log(\"Thugs NFT\", pickWinner(drugsTickets, rng));\nconsole.log(\"---\");","map":{"version":3,"sources":["/home/ok/Nextcloud/code/THUGS/50-50-app/50-50/src/utils/pickWinners.js"],"names":["crypto","require","seedrandom","rng","createHash","update","blockHash","digest","winners","ticketList","getTotalTickets","tickets","Object","values","reduce","a","b","pickWinner","totalTickets","winningTicket","Math","floor","ticketsCounted","key","console","log","i","drugsTickets"],"mappings":"AAAA,MAAMA,MAAM,GAAGC,OAAO,CAAC,QAAD,CAAtB;;AACA,MAAMC,UAAU,GAAGD,OAAO,CAAC,YAAD,CAA1B;;AACA,MAAME,GAAG,GAAGD,UAAU,CACpBF,MAAM,CAACI,UAAP,CAAkB,QAAlB,EAA4BC,MAA5B,CAAmCC,SAAnC,EAA8CC,MAA9C,CAAqD,KAArD,CADoB,CAAtB;AAIA,eAAe,SAASC,OAAT,CAAiBC,UAAjB,EAA6B,CAAE;;AAE9C,MAAMC,eAAe,GAAIC,OAAD,IACtBC,MAAM,CAACC,MAAP,CAAcF,OAAd,EAAuBG,MAAvB,CAA8B,CAACC,CAAD,EAAIC,CAAJ,KAAUD,CAAC,GAAGC,CAA5C,CADF;;AAGA,MAAMC,UAAU,GAAG,CAACN,OAAD,EAAUR,GAAV,KAAkB;AACnC,QAAMe,YAAY,GAAGR,eAAe,CAACC,OAAD,CAApC;AACA,QAAMQ,aAAa,GAAGC,IAAI,CAACC,KAAL,CAAWlB,GAAG,KAAKe,YAAnB,CAAtB;AAEA,MAAII,cAAc,GAAG,CAArB;;AAEA,OAAK,MAAMC,GAAX,IAAkBZ,OAAlB,EAA2B;AACzBW,IAAAA,cAAc,IAAIX,OAAO,CAACY,GAAD,CAAzB;AACA,QAAID,cAAc,IAAIH,aAAtB,EAAqC,OAAOI,GAAP;AACtC;AACF,CAVD,C,CAYA;;;AACAC,OAAO,CAACC,GAAR,CAAY,iCAAZ;;AACA,KAAK,IAAIC,CAAC,GAAG,CAAb,EAAgBA,CAAC,IAAI,CAArB,EAAwBA,CAAC,EAAzB,EAA6B;AAC3BF,EAAAA,OAAO,CAACC,GAAR,CAAa,gBAAeC,CAAE,IAAGT,UAAU,CAACU,YAAD,EAAexB,GAAf,CAAoB,EAA/D;AACD;;AACDqB,OAAO,CAACC,GAAR,CAAY,WAAZ,EAAyBR,UAAU,CAACU,YAAD,EAAexB,GAAf,CAAnC;AACAqB,OAAO,CAACC,GAAR,CAAY,KAAZ","sourcesContent":["const crypto = require(\"crypto\");\nconst seedrandom = require(\"seedrandom\");\nconst rng = seedrandom(\n  crypto.createHash(\"sha256\").update(blockHash).digest(\"hex\")\n);\n\nexport default function winners(ticketList) {}\n\nconst getTotalTickets = (tickets) =>\n  Object.values(tickets).reduce((a, b) => a + b);\n\nconst pickWinner = (tickets, rng) => {\n  const totalTickets = getTotalTickets(tickets);\n  const winningTicket = Math.floor(rng() * totalTickets);\n\n  let ticketsCounted = 0;\n\n  for (const key in tickets) {\n    ticketsCounted += tickets[key];\n    if (ticketsCounted >= winningTicket) return key;\n  }\n};\n\n// Thugs Finance - (5 Prizes) + 1 NFT\nconsole.log(\"Selecting Thugs Finance Winners\");\nfor (let i = 1; i <= 5; i++) {\n  console.log(`Thugs winner ${i} ${pickWinner(drugsTickets, rng)}`);\n}\nconsole.log(\"Thugs NFT\", pickWinner(drugsTickets, rng));\nconsole.log(\"---\");\n"]},"metadata":{},"sourceType":"module"}